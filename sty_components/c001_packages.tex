% c001_packages.tex
% This file ONLY loads packages. All configurations are in other files.

%======================================================================
%============================LaTex3====================================
%======================================================================
\RequirePackage{expl3,xparse}
%===========================================================================
% Math stuff
%===========================================================================
\RequirePackage{amsmath,amssymb,mathtools,empheq}
%amsmath and ntheorem should be loaded before {fontspec}
%mathtools offer pmatirx*
\RequirePackage{cancel}
%\cancel{} can be used in formulae!\bcancel{}\xcancle{}\cancelto{<value>}{<expression>}
\RequirePackage{extarrows}
\RequirePackage{amsthm,thmtools}

\newif\ifcomment

%===========================================================================
%=================== font/encoding configuration ===========================
%===========================================================================
% File encoding
%\RequirePackage[T1]{fontenc}   %% NOTE: This is now handled by the `fontspec` package

%\RequirePackage{luaotfload}
\RequirePackage{luatexja, fontspec, luatexja-fontspec, luatexja-ruby, polyglossia}
%%  {fontspec}: set default non-cjk fonts;
%%  {polyglossia}: set default language; exclude cjk;
\RequirePackage{noto}
\RequirePackage{sourcecodepro}
%\RequirePackage{microtype} %luatexja does not support microtype



% Redefine cite command to include space before
% <http://tex.stackexchange.com/questions/11602/>
\let\origcite\cite%
\def\cite#1{\unskip~\origcite{#1}}

%=======================================================================
%====================== layout setting ===============================
%=======================================================================
\RequirePackage{geometry}

\RequirePackage{graphicx}
%insert external pictures
%usage \includegraphicx[]{}
%parameter in [] : width, height, = ?cm scale = 0.6
\RequirePackage[normalem]{ulem}
%\uline{}, \uuline{}, \uwave{},\sout{}, \xout{},\dashuline{},\dotuline{},\sout{}(words only)
\RequirePackage{pdfpages}
\RequirePackage{fancyhdr}
%control headers and footers

% Colors and customizations
\RequirePackage[table,x11names,dvipsnames]{xcolor}


% Hyperlinks
\RequirePackage[unicode]{hyperref}



% Widow and club penalties
\clubpenalty=10000
\widowpenalty=10000
%\displaywidowpenalty=10000



%===========================================================================
% Figures, tables, and captions
%===========================================================================
\RequirePackage{tabularray}
%\setlength{\extrarowheight}{3pt}
%\newcommand{\tableheadline}[1]{\multicolumn{1}{c}{\spacedlowsmallcaps{#1}}}
\RequirePackage{caption}
%\captionsetup[figure]{format=plain, font=footnotesize, labelfont=bf}
%\captionsetup[table]{format=plain, font=footnotesize, labelfont=bf}
\RequirePackage{subcaption}
%\captionsetup[subfigure]{format=hang, font=footnotesize, labelfont=bf, labelsep=period, labelformat=simple,justification=justified,singlelinecheck=false}

\RequirePackage{adjustbox}
\RequirePackage{wrapfig}
\RequirePackage{lscape}
\RequirePackage{multicol,multirow,makecell,booktabs,array}

\RequirePackage{titlesec,titletoc,etoc}

% tcolorbox
\RequirePackage{tcolorbox}


% Code listings
\RequirePackage{minted}


% Algorithms
\RequirePackage[linesnumbered,lined,ruled]{algorithm2e}



% Graphics
\RequirePackage{graphicx}
\RequirePackage{rotating}
\RequirePackage{tikz,pgf,pgfplots,pgfplotstable}




% List items
\RequirePackage{enumitem}



% Page numbers in plain style (chapter titles)


% Chapter quotes
\RequirePackage{csquotes} % smart quotes




% Margin notes
\RequirePackage[fulladjust]{marginnote}




